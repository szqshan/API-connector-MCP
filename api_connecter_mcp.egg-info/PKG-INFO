Metadata-Version: 2.4
Name: api-connecter-mcp
Version: 1.0.0
Summary: Universal API Connector MCP for AI applications
Author-email: szqshan <szqshan@example.com>
Project-URL: Homepage, https://github.com/szqshan/api-connecter-mcp
Project-URL: Bug Reports, https://github.com/szqshan/api-connecter-mcp/issues
Project-URL: Source, https://github.com/szqshan/api-connecter-mcp
Keywords: mcp,api,connector,ai,http,rest
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: Internet :: WWW/HTTP :: HTTP Servers
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: mcp>=1.2.0
Requires-Dist: requests>=2.31.0
Requires-Dist: httpx>=0.24.0
Requires-Dist: pydantic>=2.0.0
Requires-Dist: pyyaml>=6.0
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: python-dateutil>=2.8.0

# API_Connecter_MCP

ä¸€ä¸ªä¸“é—¨ç”¨äºAPIè¿æ¥çš„MCPï¼ˆModel Context Protocolï¼‰æœåŠ¡å™¨ï¼Œè®©AIèƒ½å¤Ÿé€šè¿‡APIè¿æ¥ä¸‡ç‰©ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **APIé…ç½®ç®¡ç†** - æ”¯æŒå¤šç§è®¤è¯æ–¹å¼ï¼ˆAPI Keyã€Bearer Tokenã€Basic Authç­‰ï¼‰
- **APIæ•°æ®è·å–** - è‡ªåŠ¨è°ƒç”¨APIå¹¶å­˜å‚¨æ•°æ®åˆ°æœ¬åœ°æ•°æ®åº“
- **æ•°æ®é¢„è§ˆ** - åœ¨å­˜å‚¨å‰é¢„è§ˆAPIè¿”å›çš„æ•°æ®ç»“æ„
- **ä¼šè¯ç®¡ç†** - ä¸ºä¸åŒçš„APIæ•°æ®åˆ›å»ºç‹¬ç«‹çš„å­˜å‚¨ä¼šè¯
- **æ•°æ®è½¬æ¢** - æ”¯æŒå¤šç§æ•°æ®æ ¼å¼è½¬æ¢å’Œå¤„ç†

### æ”¯æŒçš„APIç±»å‹
- REST API
- æ”¯æŒJSONã€XMLç­‰å¤šç§å“åº”æ ¼å¼
- å¤šç§HTTPæ–¹æ³•ï¼ˆGETã€POSTã€PUTã€DELETEç­‰ï¼‰
- çµæ´»çš„è®¤è¯æœºåˆ¶

## ğŸ“¦ å®‰è£…å’Œé…ç½®

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- ä¾èµ–åŒ…ï¼šrequests, pandas, mcp

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 2. é…ç½®ç¯å¢ƒå˜é‡
å¤åˆ¶ `.env.example` åˆ° `.env` å¹¶é…ç½®æ‚¨çš„APIå¯†é’¥ï¼š
```bash
cp .env.example .env
```

### 3. æµ‹è¯•æœåŠ¡å™¨
```bash
python main.py --test
```

### 4. è¿è¡ŒMCPæœåŠ¡å™¨
```bash
# ç›´æ¥è¿è¡Œ
python main.py

# æˆ–ä½¿ç”¨MCPå¼€å‘æ¨¡å¼ï¼ˆæ¨èç”¨äºæµ‹è¯•ï¼‰
mcp dev main.py
```

### 5. é…ç½®Claude Desktop
å°† `claude_desktop_config.json` çš„å†…å®¹å¤åˆ¶åˆ°æ‚¨çš„Claude Desktopé…ç½®æ–‡ä»¶ä¸­ã€‚

### é…ç½®API
1. ç¼–è¾‘ `config/api_config.json` æ–‡ä»¶
2. æ·»åŠ ä½ çš„APIé…ç½®ä¿¡æ¯
3. è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚APIå¯†é’¥ï¼‰

### ç¤ºä¾‹é…ç½®
```json
{
  "apis": {
    "my_api": {
      "name": "æˆ‘çš„API",
      "description": "APIæè¿°",
      "enabled": true,
      "base_url": "https://api.example.com",
      "auth_type": "api_key",
      "auth": {
        "key": "${API_KEY}",
        "header_name": "X-API-Key"
      },
      "endpoints": {
        "get_data": {
          "path": "/data",
          "method": "GET",
          "description": "è·å–æ•°æ®"
        }
      }
    }
  }
}
```

## ğŸ› ï¸ å¯ç”¨å·¥å…·

### 1. manage_api_config
ç®¡ç†APIé…ç½®
```python
# åˆ—å‡ºæ‰€æœ‰API
manage_api_config(action="list")

# æµ‹è¯•APIè¿æ¥
manage_api_config(action="test", api_name="my_api")

# éªŒè¯APIé…ç½®
manage_api_config(action="validate", api_name="my_api")
```

### 2. fetch_api_data
è·å–APIæ•°æ®å¹¶è‡ªåŠ¨å­˜å‚¨
```python
# åŸºæœ¬ç”¨æ³•
fetch_api_data(
    api_name="jsonplaceholder",
    endpoint_name="get_posts"
)

# å¸¦å‚æ•°çš„è¯·æ±‚
fetch_api_data(
    api_name="jsonplaceholder",
    endpoint_name="get_post",
    params={"id": 1}
)

# æŒ‡å®šå­˜å‚¨ä¼šè¯
fetch_api_data(
    api_name="my_api",
    endpoint_name="get_data",
    storage_session_id="my_session"
)
```

### 3. api_data_preview
é¢„è§ˆAPIæ•°æ®ï¼ˆä¸å­˜å‚¨ï¼‰
```python
api_data_preview(
    api_name="jsonplaceholder",
    endpoint_name="get_posts",
    max_rows=5
)
```

### 4. create_api_storage_session
åˆ›å»ºæ•°æ®å­˜å‚¨ä¼šè¯
```python
create_api_storage_session(
    session_name="posts_data",
    api_name="jsonplaceholder",
    endpoint_name="get_posts",
    description="å­˜å‚¨æ–‡ç« æ•°æ®"
)
```

### 5. list_api_storage_sessions
åˆ—å‡ºæ‰€æœ‰å­˜å‚¨ä¼šè¯
```python
list_api_storage_sessions()
```

## ğŸ”§ æ•°æ®è½¬æ¢

æ”¯æŒçµæ´»çš„æ•°æ®è½¬æ¢é…ç½®ï¼š

```python
transform_config = {
    "select_fields": ["id", "title", "body"],  # é€‰æ‹©å­—æ®µ
    "rename_fields": {"body": "content"},     # é‡å‘½åå­—æ®µ
    "filter_conditions": [                     # è¿‡æ»¤æ¡ä»¶
        {"field": "id", "operator": "gt", "value": 10}
    ],
    "sort_by": "id",                           # æ’åºå­—æ®µ
    "limit": 50,                              # é™åˆ¶æ•°é‡
    "type_conversions": {                     # ç±»å‹è½¬æ¢
        "id": "int",
        "title": "str"
    }
}

fetch_api_data(
    api_name="jsonplaceholder",
    endpoint_name="get_posts",
    transform_config=transform_config
)
```

## ğŸ” å®‰å…¨é…ç½®

### ç¯å¢ƒå˜é‡
åœ¨ `.env` æ–‡ä»¶ä¸­è®¾ç½®æ•æ„Ÿä¿¡æ¯ï¼š
```
API_KEY=your_api_key_here
GITHUB_TOKEN=your_github_token
```

### åŸŸåå®‰å…¨
åœ¨é…ç½®ä¸­è®¾ç½®å…è®¸/ç¦æ­¢çš„åŸŸåï¼š
```json
{
  "security": {
    "allowed_domains": ["api.example.com"],
    "blocked_domains": ["malicious.com"],
    "max_response_size": 10485760
  }
}
```

## ğŸ“Š æ•°æ®å­˜å‚¨

- æ¯ä¸ªå­˜å‚¨ä¼šè¯å¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„SQLiteæ•°æ®åº“æ–‡ä»¶
- è‡ªåŠ¨å»é‡ï¼Œé¿å…é‡å¤å­˜å‚¨ç›¸åŒæ•°æ®
- æ”¯æŒåŸå§‹æ•°æ®å’Œå¤„ç†åæ•°æ®çš„åŒæ—¶å­˜å‚¨
- å®Œæ•´çš„æ“ä½œæ—¥å¿—è®°å½•

## ğŸ¯ ä½¿ç”¨åœºæ™¯

1. **æ•°æ®æ”¶é›†** - ä»å„ç§APIæ”¶é›†æ•°æ®è¿›è¡Œåˆ†æ
2. **APIæµ‹è¯•** - æµ‹è¯•å’ŒéªŒè¯APIçš„åŠŸèƒ½
3. **æ•°æ®åŒæ­¥** - å®šæœŸä»APIè·å–æœ€æ–°æ•°æ®
4. **æ•°æ®è½¬æ¢** - å°†APIæ•°æ®è½¬æ¢ä¸ºæ‰€éœ€æ ¼å¼
5. **APIç›‘æ§** - ç›‘æ§APIçš„å¯ç”¨æ€§å’Œå“åº”æ—¶é—´

## ğŸ”„ å·¥ä½œæµç¨‹

1. **é…ç½®API** - åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ APIä¿¡æ¯
2. **æµ‹è¯•è¿æ¥** - éªŒè¯APIé…ç½®æ˜¯å¦æ­£ç¡®
3. **é¢„è§ˆæ•°æ®** - äº†è§£APIè¿”å›çš„æ•°æ®ç»“æ„
4. **åˆ›å»ºä¼šè¯** - ä¸ºæ•°æ®å­˜å‚¨åˆ›å»ºä¼šè¯
5. **è·å–æ•°æ®** - è°ƒç”¨APIå¹¶è‡ªåŠ¨å­˜å‚¨æ•°æ®
6. **ç®¡ç†æ•°æ®** - æŸ¥çœ‹å’Œç®¡ç†å­˜å‚¨çš„æ•°æ®

## ğŸ“ æ³¨æ„äº‹é¡¹

- è¯·éµå®ˆAPIæä¾›å•†çš„ä½¿ç”¨æ¡æ¬¾å’Œé€Ÿç‡é™åˆ¶
- å¦¥å–„ä¿ç®¡APIå¯†é’¥ç­‰æ•æ„Ÿä¿¡æ¯
- å®šæœŸå¤‡ä»½é‡è¦çš„æ•°æ®å­˜å‚¨æ–‡ä»¶
- ç›‘æ§APIè°ƒç”¨çš„æˆæœ¬å’Œé…é¢ä½¿ç”¨æƒ…å†µ

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

MIT License

---

**è®©AIé€šè¿‡APIè¿æ¥ä¸‡ç‰©ï¼** ğŸŒâœ¨
